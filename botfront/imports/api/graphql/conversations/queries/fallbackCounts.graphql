## This is the old style, which was a conversation count
# query FallbackCounts(
#     $projectId: String!,
#     $envs: [String] = ["development", null],
#     $langs: [String] = [],
#     $from: Float,
#     $to: Float,
#     $fallbacks: [String] = ["action_botfront_fallback"],
#     $nBuckets: Int = 7,
# ) {
#     conversationCounts(
#         projectId: $projectId,
#         subtype: "fallback",
#         envs: $envs,
#         langs: $langs,
#         from: $from,
#         to: $to,
#         include: $fallbacks,
#         nBuckets: $nBuckets,
#     ) {
#         bucket, hits, count, proportion
#     }
# }

## This is the new style, which is a count of actions across all convs
query FallbackCounts(
    $projectId: String!,
    $envs: [String] = ["development", null],
    $langs: [String] = [],
    $from: Float,
    $to: Float,
    $fallbacks: [String] = ["action_botfront_fallback"],
    $nBuckets: Int = 7,
) {
    actionCounts(
        projectId: $projectId,
        envs: $envs,
        langs: $langs,
        from: $from,
        to: $to,
        include: $fallbacks,
        nBuckets: $nBuckets,
    ) {
        bucket, hits, count, proportion
    }
}